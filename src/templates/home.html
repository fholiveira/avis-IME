{% from '_macros.html' import render_field %}

{% extends 'base.html' %}
{% set body_class = 'home' %}

{% block content %}
  <h1>avis-IME</h1>
  <p>app que avisa quando um professor do IME atualiza seu site!</p>

  <section>
    <h1>fa√ßa login</h1>
    <form action="/login" method="post">
      <fieldset>
        {{ login.hidden_tag() }}
        {{ render_field(login.email) }}
        {{ render_field(login.password) }}
      </fieldset>
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <ul class=errors>
            {% for message in messages %}
              <li>{{ message }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}
      <button>Logar</button>
    </form>
  </section>

  <span>ou</span>

  <section>
    <h1>cadastre-se</h1>
    <form action="/register" method="post">
      <fieldset>
        {{ registration.hidden_tag() }}
        {{ render_field(registration.email) }}
        {{ render_field(registration.password) }}
        {{ render_field(registration.confirm) }}
      </fieldset>
      <button>Cadastrar</button>
    </form>
  </section>
{% endblock %}
